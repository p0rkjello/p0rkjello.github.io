<!doctype html><html lang=en><head><title>Getting the most from GNU Screen ::
misctechmusings.com — notebook for projects, problems, and solution</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Via gnu.org
Screen is a full-screen window manager that multiplexes a physical terminal between several processes, typically interactive shells. Each virtual terminal provides the functions of the DEC VT100 terminal and, in addition, several control functions from the ANSI X3.64 (ISO 6429) and ISO 2022 standards (e.g., insert/delete line and support for multiple character sets). There is a scrollback history buffer for each virtual terminal and a copy-and-paste mechanism that allows the user to move text regions between windows."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://p0rkjello.github.io/getting-the-most-from-gnu-screen/><link rel=stylesheet href=https://p0rkjello.github.io/assets/style.css><link rel=stylesheet href=https://p0rkjello.github.io/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://p0rkjello.github.io/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://p0rkjello.github.io/img/favicon.png><link href=https://p0rkjello.github.io/assets/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://p0rkjello.github.io/assets/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://p0rkjello.github.io/assets/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://p0rkjello.github.io/assets/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://p0rkjello.github.io/assets/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://p0rkjello.github.io/assets/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary"><meta name=twitter:title content="Getting the most from GNU Screen"><meta name=twitter:description content="Via gnu.org
Screen is a full-screen window manager that multiplexes a physical terminal between several processes, typically interactive shells. Each virtual terminal provides the functions of the DEC VT100 terminal and, in addition, several control functions from the ANSI X3.64 (ISO 6429) and ISO 2022 standards (e.g., insert/delete line and support for multiple character sets). There is a scrollback history buffer for each virtual terminal and a copy-and-paste mechanism that allows the user to move text regions between windows."><meta property="og:title" content="Getting the most from GNU Screen"><meta property="og:description" content="Via gnu.org
Screen is a full-screen window manager that multiplexes a physical terminal between several processes, typically interactive shells. Each virtual terminal provides the functions of the DEC VT100 terminal and, in addition, several control functions from the ANSI X3.64 (ISO 6429) and ISO 2022 standards (e.g., insert/delete line and support for multiple character sets). There is a scrollback history buffer for each virtual terminal and a copy-and-paste mechanism that allows the user to move text regions between windows."><meta property="og:type" content="article"><meta property="og:url" content="https://p0rkjello.github.io/getting-the-most-from-gnu-screen/"><meta property="article:section" content="posts"></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>/misc/tech/musings</span>
<span class=logo__cursor></span></a>
<span class=header__right><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about>About</a></li><li><a href=/archive>Archive</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about>About</a></li><li><a href=/archive>Archive</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><div class=post><h1 class=post-title>Getting the most from GNU Screen</h1><div class=post-meta></div><span class=post-tags><a href=https://p0rkjello.github.io/tags/linux/>#linux</a>&nbsp;
<a href=https://p0rkjello.github.io/tags/screen/>#screen</a>&nbsp;</span><div class=post-content><p>Via <a href="href=%22http://www.gnu.org/software/screen/">gnu.org</a></p><blockquote><p>Screen is a full-screen window manager that multiplexes a physical terminal between several processes, typically interactive shells. Each virtual terminal provides the functions of the DEC VT100 terminal and, in addition, several control functions from the ANSI X3.64 (ISO 6429) and ISO 2022 standards (e.g., insert/delete line and support for multiple character sets). There is a scrollback history buffer for each virtual terminal and a copy-and-paste mechanism that allows the user to move text regions between windows. When screen is called, it creates a single window with a shell in it (or the specified command) and then gets out of your way so that you can use the program as you normally would. Then, at any time, you can create new (full-screen) windows with other programs in them (including more shells), kill the current window, view a list of the active windows, turn output logging on and off, copy text between windows, view the scrollback history, switch between windows, etc. All windows run their programs completely independent of each other. Programs continue to run when their window is currently not visible and even when the whole screen session is detached from the users terminal.</p></blockquote><p>Screen will allow you to keep a persistent terminal session. Even when the connection is lost.
In the middle of compiling a new kernel when your network connection drops? No problem.. You were in a screen session right?</p><h2 id=running-screen>Running Screen</h2><p>Screen is simple enough to use.
To start a new session in a terminal</p><pre><code>screen
</code></pre><p>Attach to an existing screen session</p><pre><code>screen -r
</code></pre><p>Force reattach to an existing session</p><pre><code>screen -rd
</code></pre><p>Share a screen session (multi display mode)</p><pre><code>screen -x
</code></pre><h2 id=basic-keyboard-commands>Basic Keyboard Commands</h2><p>Here are some basics commands to help you get around.</p><p>The following table shows the default key bindings:</p><p>C- represents the ctrl key. The first command could be executed by pressing ctrl a followed by c</p><p><code>C-a c</code>
<code>C-a C-c</code>
(screen)
Create a new window with a shell and switch to that window.</p><p><code>C-a d</code>
<code>C-a C-d</code>
(detach)
Detach screen from this terminal.</p><p><code>C-a D D</code>
(pow_detach)
Detach and logout.</p><p><code>C-a k</code>
<code>C-a C-k</code>
(kill)
Destroy the current window.</p><p><code>C-a</code>
<code>C-a n</code>
<code>C-a C-n</code>
(next)
Switch to the next window.</p><p><code>C-a p</code>
<code>C-a C-p</code>
<code>C-a C-h</code>
<code>C-a</code>
(prev)
Switch to the previous window (opposite of C-a n).</p><p><code>C-a x</code>
<code>C-a C-x</code>
(lockscreen)
Lock your terminal.</p><p><code>C-a z</code>
<code>C-a C-z</code>
(suspend)
Suspend screen.</p><p><code>C-a ?</code>
(help)
Show key bindings.</p><p><code>C-a C-\</code>
(quit)
Kill all windows and terminate screen.</p><p>The commands above are just the basics. They will get the job done on their own. There are many more options available.
Default-Key-Bindings</p><h2 id=example-screenrc-for-a-webserver>Example .screenrc for a webserver</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-conf data-lang=conf><span style=display:flex><span><span style=color:#75715e># basics
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>startup_message <span style=color:#66d9ef>off</span>
</span></span><span style=display:flex><span>vbell           <span style=color:#66d9ef>on</span>
</span></span><span style=display:flex><span>defscrollback   10000
</span></span><span style=display:flex><span>autodetach      <span style=color:#66d9ef>on</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># status
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>hardstatus alwayslastline <span style=color:#e6db74>&#34;%{= kw}%{g}[ %{R}%H %{g}] %{Y} %{g}[%=%{ =kw}%{w}%-w%{Y}[%{W}%n-%t%{Y}]%{w}%+w%=%{g}][ %{w}%m-%d %{Y}%c %{g}]&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># add caption
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>caption splitonly <span style=color:#e6db74>&#34;%{= kw}%?%-Lw%?%{kw}%n*%t%f %?(%u)%?%{= kw}%?%+Lw%?&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>screen -t shell 0 bash
</span></span><span style=display:flex><span>screen -t vim 1 bash
</span></span><span style=display:flex><span>screen -t htop 2 htop
</span></span><span style=display:flex><span>screen -t apache 3 goaccess
</span></span><span style=display:flex><span>screen -t log 4 tail -f -n 50 <span style=color:#960050;background-color:#1e0010>/</span>var<span style=color:#960050;background-color:#1e0010>/</span>log<span style=color:#960050;background-color:#1e0010>/</span>apache2<span style=color:#960050;background-color:#1e0010>/</span>error.log
</span></span><span style=display:flex><span>screen -t log 5 tail -f -n 50 <span style=color:#960050;background-color:#1e0010>/</span>var<span style=color:#960050;background-color:#1e0010>/</span>log<span style=color:#960050;background-color:#1e0010>/</span>messages
</span></span><span style=display:flex><span>select 0
</span></span></code></pre></div><p>Additional Information on GNU Screen:</p><p><a href=http://www.gnu.org/software/screen>http://www.gnu.org/software/screen</a>
<a href=http://www.gnu.org/software/screen/manual>http://www.gnu.org/software/screen/manual</a>
<a href=http://en.wikipedia.org/wiki/GNU_Screen>http://en.wikipedia.org/wiki/GNU_Screen</a></p></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://p0rkjello.github.io/generate-qr-codes-on-wolframalpha/><span class=button__icon>←</span>
<span class=button__text>Generate QR codes on Wolframalpha</span></a></span>
<span class="button next"><a href=https://p0rkjello.github.io/google-chrome-pdf-reader/><span class=button__text>Google Chrome PDF reader</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>/misc/tech/musings</span>
<span class=logo__cursor></span></a><div class=copyright><span>© 2023 Powered by
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
<span>Theme created by
<a href=https://twitter.com/panr target=_blank rel=noopener>panr</a></span></div></div></footer><script src=https://p0rkjello.github.io/assets/main.js></script>
<script src=https://p0rkjello.github.io/assets/prism.js></script></div></body></html>